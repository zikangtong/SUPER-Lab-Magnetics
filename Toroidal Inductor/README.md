# Basic Toroidal Inductor Modeling

##### Author: Zikang Tong
##### Description:
This folder contains documents and files instructing the user how to model a 3-D printed toroidal inductor in COMSOL. 
**To start, you must open the COMSOL Multiphysics 5.4a with MATLAB application.**

## Script Usage Tutorial
The script [toroidal_inductor.m](toroidal_inductor.m) contains the code used to retrieve the AC impedance of a toroidal inductor with square cross-section. The user sets the parameters shown below.

<img src = "../images/toroidal_inductor_intialization.PNG" width = "400">


### Toroid Geometry Initialization
The first line, **mph_fileloc**, specifies the folder path of where to save the .mph file generated by the script. The second line, **mph_filename**, specifies the filename of the .mph file. Note that the filename **MUST** end with .mph.

**ri** refers to the inner radius of the toroid.

**ro** refers to the outer radius.

**h** refers to the height of the toroid.

**t** refers to the thickness of the toroid. Note that the structure is hollow so the thickness determines the structural robustness of the print.

**separation** refers to the distance spacing between each winding. This determines the voltage isolation capabilities of the structure.

**turns** refers to number of turns.

All units are in mm and below shows a figure of a toroidal inductor with the parameters labeled.

<img src = "../images/toroid1.png" width = "300"> <img src = "../images/toroid2.png" width = "400">

### Simulation Parameters Initialization
For simulation, the toroid is injected by a lumped port current source with amplitude **I_prim** and frequency of **freq**. The units are in A and Hz. 

### Simulation Results
Once these parameters are initialized, you are ready to run the simulation by pressing the green run button. After the script has completed running, it outputs 2 variables, **Z_imag**, which is the imaginary component of the impedance in Ohms and **Z_real**, the real component. These variables can be used to determine the AC losses as well as the inductance of the structures (assuming the frequency is not close to resonance).

Furthermore, you can also retrieve 3D FEM plots from this simulation.
